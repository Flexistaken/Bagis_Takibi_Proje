<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.bagis_takibi_proje.RaporlarController"
      stylesheets="@style.css"
      styleClass="panel-gradient"
      alignment="CENTER"
      spacing="20"
      prefWidth="900"
      prefHeight="600">

    <padding>
        <Insets top="25" right="25" bottom="25" left="25"/>
    </padding>

    <!-- ANA KART -->
    <VBox styleClass="card" spacing="20" prefWidth="850">

        <Label text="Raporlar"
               style="-fx-font-size: 24px; -fx-font-weight: 800; -fx-text-fill: #2c3e50;"/>

        <!-- ÖZET -->
        <HBox spacing="20" alignment="CENTER">
            <VBox styleClass="dashboard-card">
                <Label text="Toplam Bağış" styleClass="dashboard-card-title"/>
                <Label fx:id="toplamBagisLabel" styleClass="dashboard-card-value"/>
            </VBox>

            <VBox styleClass="dashboard-card">
                <Label text="Bugünkü Bağış" styleClass="dashboard-card-title"/>
                <Label fx:id="bugunBagisLabel" styleClass="dashboard-card-value"/>
            </VBox>

            <VBox styleClass="dashboard-card">
                <Label text="Toplam Kurum" styleClass="dashboard-card-title"/>
                <Label fx:id="kurumSayisiLabel" styleClass="dashboard-card-value"/>
            </VBox>
        </HBox>

        <Separator opacity="0.3"/>

        <!-- GRAFİKLER -->
        <HBox spacing="30" alignment="CENTER">

            <!-- Kurumlara Göre Bağış -->
            <VBox spacing="10">
                <Label text="Kurumlara Göre Bağış Dağılımı"
                       style="-fx-font-weight: bold;"/>
                <PieChart fx:id="kurumBagisChart" prefWidth="430" prefHeight="360"/>
            </VBox>

            <!-- Lider Bağışçılar -->
            <VBox spacing="10">
                <Label text="Lider Bağışçılar (Top 5)"
                       style="-fx-font-weight: bold;"/>
                <BarChart fx:id="liderBagisciChart">
                    <xAxis>
                        <CategoryAxis/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis/>
                    </yAxis>
                </BarChart>
            </VBox>

        </HBox>

        <!-- ALT BUTON BAR -->
        <HBox alignment="CENTER"
              style="-fx-padding: 20 0 0 0;">

            <HBox spacing="10"
                  alignment="CENTER_LEFT"
                  HBox.hgrow="ALWAYS">

                <Button text="Kapat"
                        onAction="#kapat"
                        styleClass="btn-danger"/>
            </HBox>

            <HBox spacing="10"
                  alignment="CENTER_RIGHT"
                  HBox.hgrow="ALWAYS">

                <Button text="PDF'e Aktar"
                        onAction="#pdfExport"
                        styleClass="btn-primary"/>
            </HBox>

        </HBox>


    </VBox>
</VBox>
